

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>sqlalchemy Package &mdash; ally-py 1.0b1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0b1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="ally-py 1.0b1 documentation" href="index.html" />
    <link rel="up" title="support Package" href="ally.support.html" />
    <link rel="next" title="xml Package" href="ally.xml.html" />
    <link rel="prev" title="core Package" href="ally.support.core.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ally.xml.html" title="xml Package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ally.support.core.html" title="core Package"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">ally-py 1.0b1 documentation</a> &raquo;</li>
          <li><a href="ally.html" >ally Package</a> &raquo;</li>
          <li><a href="ally.support.html" accesskey="U">support Package</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="sqlalchemy-package">
<h1>sqlalchemy Package<a class="headerlink" href="#sqlalchemy-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2><tt class="xref py py-mod docutils literal"><span class="pre">sqlalchemy</span></tt> Package<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-ally.support.sqlalchemy"></span><p>Created on Jul 15, 2011</p>
<p>&#64;package: ally core sql alchemy
&#64;copyright: 2012 Sourcefabric o.p.s.
&#64;license: <a class="reference external" href="http://www.gnu.org/licenses/gpl-3.0.txt">http://www.gnu.org/licenses/gpl-3.0.txt</a>
&#64;author: Gabriel Nistor</p>
<p>This package contains the support for working with sql alchemy.</p>
</div>
<div class="section" id="module-ally.support.sqlalchemy.descriptor">
<span id="descriptor-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">descriptor</span></tt> Module<a class="headerlink" href="#module-ally.support.sqlalchemy.descriptor" title="Permalink to this headline">¶</a></h2>
<p>Created on Mar 13, 2012</p>
<p>&#64;package: ally core sql alchemy
&#64;copyright: 2012 Sourcefabric o.p.s.
&#64;license: <a class="reference external" href="http://www.gnu.org/licenses/gpl-3.0.txt">http://www.gnu.org/licenses/gpl-3.0.txt</a>
&#64;author: Gabriel Nistor</p>
<p>Provides the descriptors for the mapped attributes.</p>
<dl class="attribute">
<dt id="ally.support.sqlalchemy.descriptor.PropertyAssociation">
<tt class="descclassname">ally.support.sqlalchemy.descriptor.</tt><tt class="descname">PropertyAssociation</tt><a class="reference internal" href="_modules/ally/support/sqlalchemy/descriptor.html#PropertyAssociation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.descriptor.PropertyAssociation" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides the property descriptor for the instrumented attribute.</p>
</dd></dl>

<dl class="attribute">
<dt id="ally.support.sqlalchemy.descriptor.PropertyAttribute">
<tt class="descclassname">ally.support.sqlalchemy.descriptor.</tt><tt class="descname">PropertyAttribute</tt><a class="reference internal" href="_modules/ally/support/sqlalchemy/descriptor.html#PropertyAttribute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.descriptor.PropertyAttribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides the property descriptor for the instrumented attribute.</p>
</dd></dl>

<dl class="attribute">
<dt id="ally.support.sqlalchemy.descriptor.PropertyHybrid">
<tt class="descclassname">ally.support.sqlalchemy.descriptor.</tt><tt class="descname">PropertyHybrid</tt><a class="reference internal" href="_modules/ally/support/sqlalchemy/descriptor.html#PropertyHybrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.descriptor.PropertyHybrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides the property descriptor for the hybrid property.</p>
</dd></dl>

<dl class="attribute">
<dt id="ally.support.sqlalchemy.descriptor.PropertyMappingProxy">
<tt class="descclassname">ally.support.sqlalchemy.descriptor.</tt><tt class="descname">PropertyMappingProxy</tt><a class="reference internal" href="_modules/ally/support/sqlalchemy/descriptor.html#PropertyMappingProxy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.descriptor.PropertyMappingProxy" title="Permalink to this definition">¶</a></dt>
<dd><p>Property that acts like a proxy for other descriptors.</p>
</dd></dl>

</div>
<div class="section" id="module-ally.support.sqlalchemy.mapper">
<span id="mapper-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">mapper</span></tt> Module<a class="headerlink" href="#module-ally.support.sqlalchemy.mapper" title="Permalink to this headline">¶</a></h2>
<p>Created on Jan 4, 2012</p>
<p>&#64;package: ally core sql alchemy
&#64;copyright: 2012 Sourcefabric o.p.s.
&#64;license: <a class="reference external" href="http://www.gnu.org/licenses/gpl-3.0.txt">http://www.gnu.org/licenses/gpl-3.0.txt</a>
&#64;author: Gabriel Nistor</p>
<p>Provides support for SQL alchemy mapper that is able to link the alchemy with REST models.</p>
<dl class="class">
<dt id="ally.support.sqlalchemy.mapper.DeclarativeMetaModel">
<em class="property">class </em><tt class="descclassname">ally.support.sqlalchemy.mapper.</tt><tt class="descname">DeclarativeMetaModel</tt><big>(</big><em>name</em>, <em>bases</em>, <em>namespace</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/mapper.html#DeclarativeMetaModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.mapper.DeclarativeMetaModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">sqlalchemy.ext.declarative.DeclarativeMeta</span></tt></p>
<p>Extension for &#64;see: DeclarativeMeta class that provides also the merging with the API model.</p>
</dd></dl>

<dl class="class">
<dt id="ally.support.sqlalchemy.mapper.MappedSupport">
<em class="property">class </em><tt class="descclassname">ally.support.sqlalchemy.mapper.</tt><tt class="descname">MappedSupport</tt><a class="reference internal" href="_modules/ally/support/sqlalchemy/mapper.html#MappedSupport"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.mapper.MappedSupport" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">builtins.object</span></tt></p>
<p>Support class for mapped classes.</p>
</dd></dl>

<dl class="class">
<dt id="ally.support.sqlalchemy.mapper.MappedSupportMeta">
<em class="property">class </em><tt class="descclassname">ally.support.sqlalchemy.mapper.</tt><tt class="descname">MappedSupportMeta</tt><a class="reference internal" href="_modules/ally/support/sqlalchemy/mapper.html#MappedSupportMeta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.mapper.MappedSupportMeta" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">abc.ABCMeta</span></tt></p>
<p>Meta class for mapping support that allows for instance check base on the &#8216;__mapper__&#8217; attribute.</p>
</dd></dl>

<dl class="exception">
<dt id="ally.support.sqlalchemy.mapper.MappingError">
<em class="property">exception </em><tt class="descclassname">ally.support.sqlalchemy.mapper.</tt><tt class="descname">MappingError</tt><a class="reference internal" href="_modules/ally/support/sqlalchemy/mapper.html#MappingError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.mapper.MappingError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">builtins.Exception</span></tt></p>
<p>Provides the exception used whenever a mapping issue occurs.</p>
</dd></dl>

<dl class="class">
<dt id="ally.support.sqlalchemy.mapper.TypeModelMapped">
<em class="property">class </em><tt class="descclassname">ally.support.sqlalchemy.mapper.</tt><tt class="descname">TypeModelMapped</tt><big>(</big><em>clazz</em>, <em>base</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/mapper.html#TypeModelMapped"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.mapper.TypeModelMapped" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ally.api.operator.html#ally.api.operator.type.TypeModel" title="ally.api.operator.type.TypeModel"><tt class="xref py py-class docutils literal"><span class="pre">ally.api.operator.type.TypeModel</span></tt></a></p>
<p>A &#64;see: TypeModel extension for mapped models.</p>
<dl class="attribute">
<dt id="ally.support.sqlalchemy.mapper.TypeModelMapped.base">
<tt class="descname">base</tt><a class="headerlink" href="#ally.support.sqlalchemy.mapper.TypeModelMapped.base" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ally.support.sqlalchemy.mapper.TypeModelMapped.isOf">
<tt class="descname">isOf</tt><big>(</big><em>type</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/mapper.html#TypeModelMapped.isOf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.mapper.TypeModelMapped.isOf" title="Permalink to this definition">¶</a></dt>
<dd><p>&#64;see: Type.isOf</p>
</dd></dl>

<dl class="method">
<dt id="ally.support.sqlalchemy.mapper.TypeModelMapped.isValid">
<tt class="descname">isValid</tt><big>(</big><em>obj</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/mapper.html#TypeModelMapped.isValid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.mapper.TypeModelMapped.isValid" title="Permalink to this definition">¶</a></dt>
<dd><p>&#64;see: Type.isValid</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.mapper.adapted">
<tt class="descclassname">ally.support.sqlalchemy.mapper.</tt><tt class="descname">adapted</tt><big>(</big><em>self</em>, <em>adapter</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/mapper.html#adapted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.mapper.adapted" title="Permalink to this definition">¶</a></dt>
<dd><p>&#64;see: InstrumentedAttribute.adapted
We need to adjust this in order to be able to alias.</p>
</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.mapper.addInsertListener">
<tt class="descclassname">ally.support.sqlalchemy.mapper.</tt><tt class="descname">addInsertListener</tt><big>(</big><em>mapped</em>, <em>listener</em>, <em>before=True</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/mapper.html#addInsertListener"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.mapper.addInsertListener" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an insert listener that will get notified every time the mapped class entity is inserted.</p>
<dl class="docutils">
<dt>&#64;param mapped: class</dt>
<dd>The model mapped class to add the listener to.</dd>
<dt>&#64;param listener: callable(object)</dt>
<dd>A function that has to take as parameter the model instance that will be or has been inserted.</dd>
<dt>&#64;param before: boolean</dt>
<dd>If True the listener will be notified before the insert occurs, if False will be notified after.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.mapper.addLoadListener">
<tt class="descclassname">ally.support.sqlalchemy.mapper.</tt><tt class="descname">addLoadListener</tt><big>(</big><em>mapped</em>, <em>listener</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/mapper.html#addLoadListener"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.mapper.addLoadListener" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a load listener that will get notified every time the mapped class entity is loaded.</p>
<dl class="docutils">
<dt>&#64;param mapped: class</dt>
<dd>The model mapped class to add the listener to.</dd>
<dt>&#64;param listener: callable(object)</dt>
<dd>A function that has to take as parameter the model instance that has been loaded.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.mapper.addUpdateListener">
<tt class="descclassname">ally.support.sqlalchemy.mapper.</tt><tt class="descname">addUpdateListener</tt><big>(</big><em>mapped</em>, <em>listener</em>, <em>before=True</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/mapper.html#addUpdateListener"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.mapper.addUpdateListener" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an update listener that will get notified every time the mapped class entity is update.</p>
<dl class="docutils">
<dt>&#64;param mapped: class</dt>
<dd>The model mapped class to add the listener to.</dd>
<dt>&#64;param listener: callable(object)</dt>
<dd>A function that has to take as parameter the model instance that will be or has been update.</dd>
<dt>&#64;param before: boolean</dt>
<dd>If True the listener will be notified before the update occurs, if False will be notified after.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.mapper.mapperModel">
<tt class="descclassname">ally.support.sqlalchemy.mapper.</tt><tt class="descname">mapperModel</tt><big>(</big><em>clazz</em>, <em>sql</em>, <em>exclude=None</em>, <em>**keyargs</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/mapper.html#mapperModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.mapper.mapperModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps a table to a ally REST model. Use this instead of the classical SQL alchemy mapper since this will
also provide to the model additional information extracted from the SQL alchemy configurations. Use
this mapper to also add validations for updating and inserting on the model.</p>
<dl class="docutils">
<dt>&#64;param clazz: class</dt>
<dd>The model class to be mapped with the provided sql table.</dd>
<dt>&#64;param sql: Table|Join|Select</dt>
<dd>The table or join to map the model with.</dd>
<dt>&#64;param exclude: list[string]|tuple(string)</dt>
<dd>A list of column names to be excluded from automatic validation.</dd>
<dt>&#64;param keyargs: key arguments</dt>
<dd>This key arguments are directly delivered to the SQL alchemy &#64;see mapper.</dd>
<dt>&#64;return: class</dt>
<dd>The mapped class, basically a model derived class that also contains the mapping data.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.mapper.mapperSimple">
<tt class="descclassname">ally.support.sqlalchemy.mapper.</tt><tt class="descname">mapperSimple</tt><big>(</big><em>clazz</em>, <em>sql</em>, <em>**keyargs</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/mapper.html#mapperSimple"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.mapper.mapperSimple" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps a table to a ally REST model. Use this instead of the classical SQL alchemy mapper since this will
also provide to the model additional information extracted from the SQL alchemy configurations.</p>
<dl class="docutils">
<dt>&#64;param clazz: class</dt>
<dd>The model class to be mapped with the provided sql.</dd>
<dt>&#64;param sql: Table|Join|Select</dt>
<dd>The table or join to map the model with.</dd>
<dt>&#64;param keyargs: key arguments</dt>
<dd>This key arguments are directly delivered to the SQL alchemy &#64;see mapper.</dd>
<dt>&#64;return: class</dt>
<dd>The obtained mapped class.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.mapper.mappingFor">
<tt class="descclassname">ally.support.sqlalchemy.mapper.</tt><tt class="descname">mappingFor</tt><big>(</big><em>mapped</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/mapper.html#mappingFor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.mapper.mappingFor" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides the mapper of the provided mapped class.</p>
<dl class="docutils">
<dt>&#64;param mapped: class</dt>
<dd>The mapped class.</dd>
<dt>&#64;return: Mapper</dt>
<dd>The associated mapper.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.mapper.mappingsOf">
<tt class="descclassname">ally.support.sqlalchemy.mapper.</tt><tt class="descname">mappingsOf</tt><big>(</big><em>metadata</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/mapper.html#mappingsOf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.mapper.mappingsOf" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides the mapping dictionary of the provided meta.</p>
<dl class="docutils">
<dt>&#64;param metadata: MetaData</dt>
<dd>The meta to get the mappings for.</dd>
<dt>&#64;return: dictionary{class,class}</dt>
<dd>A dictionary containing as a key the model API class and as a value the mapping class for the model.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.mapper.onPropertyForeignKey">
<tt class="descclassname">ally.support.sqlalchemy.mapper.</tt><tt class="descname">onPropertyForeignKey</tt><big>(</big><em>mapped</em>, <em>foreignColumn</em>, <em>prop</em>, <em>obj</em>, <em>errors</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/mapper.html#onPropertyForeignKey"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.mapper.onPropertyForeignKey" title="Permalink to this definition">¶</a></dt>
<dd><p>Validation of a sql alchemy fpreign key property.</p>
<dl class="docutils">
<dt>&#64;param mapped: class</dt>
<dd>The mapped model class.</dd>
<dt>&#64;param foreignColumn: Column</dt>
<dd>The foreign column used for checking.</dd>
<dt>&#64;param prop: string</dt>
<dd>The property name tthat contains the foreign key.</dd>
<dt>&#64;param obj: object</dt>
<dd>The entity to check for the property value.</dd>
<dt>&#64;param errors: list[Ref]</dt>
<dd>The list of errors.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.mapper.onPropertyUnique">
<tt class="descclassname">ally.support.sqlalchemy.mapper.</tt><tt class="descname">onPropertyUnique</tt><big>(</big><em>mapped</em>, <em>prop</em>, <em>obj</em>, <em>errors</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/mapper.html#onPropertyUnique"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.mapper.onPropertyUnique" title="Permalink to this definition">¶</a></dt>
<dd><p>Validation of a sql alchemy unique property.</p>
<dl class="docutils">
<dt>&#64;param mapped: class</dt>
<dd>The mapped model class.</dd>
<dt>&#64;param prop: string</dt>
<dd>The property name to be checked if unique.</dd>
<dt>&#64;param obj: object</dt>
<dd>The entity to check for the property value.</dd>
<dt>&#64;param errors: list[Ref]</dt>
<dd>The list of errors.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.mapper.registerValidation">
<tt class="descclassname">ally.support.sqlalchemy.mapper.</tt><tt class="descname">registerValidation</tt><big>(</big><em>mapped</em>, <em>exclude=None</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/mapper.html#registerValidation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.mapper.registerValidation" title="Permalink to this definition">¶</a></dt>
<dd><p>Register to mapped class all the validations that can be performed based on the SQL alchemy mapping.</p>
<dl class="docutils">
<dt>&#64;param mapped: class</dt>
<dd>The mapped model class.</dd>
<dt>&#64;param exclude: list[string]|tuple(string)</dt>
<dd>A list of column names to be excluded from automatic validation.</dd>
<dt>&#64;return: Property</dt>
<dd>The property id of the model.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.mapper.validate">
<tt class="descclassname">ally.support.sqlalchemy.mapper.</tt><tt class="descname">validate</tt><big>(</big><em>exclude</em>, <em>*args</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/mapper.html#validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.mapper.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator used for validating declarative based mapped classes, same as &#64;see:  registerValidation</p>
</dd></dl>

</div>
<div class="section" id="module-ally.support.sqlalchemy.session">
<span id="session-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">session</span></tt> Module<a class="headerlink" href="#module-ally.support.sqlalchemy.session" title="Permalink to this headline">¶</a></h2>
<p>Created on Jan 5, 2012</p>
<p>&#64;package: ally core sql alchemy
&#64;copyright: 2012 Sourcefabric o.p.s.
&#64;license: <a class="reference external" href="http://www.gnu.org/licenses/gpl-3.0.txt">http://www.gnu.org/licenses/gpl-3.0.txt</a>
&#64;author: Gabriel Nistor</p>
<p>Provides support for SQL alchemy automatic session handling.</p>
<dl class="class">
<dt id="ally.support.sqlalchemy.session.SessionSupport">
<em class="property">class </em><tt class="descclassname">ally.support.sqlalchemy.session.</tt><tt class="descname">SessionSupport</tt><a class="reference internal" href="_modules/ally/support/sqlalchemy/session.html#SessionSupport"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.session.SessionSupport" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">builtins.object</span></tt></p>
<p>Class that provides for the services that use SQLAlchemy the session support.
All services that use SQLAlchemy have to extend this class in order to provide the sql alchemy session
of the request, the session will be automatically handled by the session processor.</p>
<dl class="attribute">
<dt id="ally.support.sqlalchemy.session.SessionSupport.session">
<tt class="descname">session</tt><a class="headerlink" href="#ally.support.sqlalchemy.session.SessionSupport.session" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">Session</span></tt></p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.session.beginWith">
<tt class="descclassname">ally.support.sqlalchemy.session.</tt><tt class="descname">beginWith</tt><big>(</big><em>sessionCreator</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/session.html#beginWith"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.session.beginWith" title="Permalink to this definition">¶</a></dt>
<dd><p>Begins a session (on demand) based on the provided session creator for this thread.</p>
<dl class="docutils">
<dt>&#64;param sessionCreator: class</dt>
<dd>The session creator class.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.session.bindSession">
<tt class="descclassname">ally.support.sqlalchemy.session.</tt><tt class="descname">bindSession</tt><big>(</big><em>proxy</em>, <em>sessionCreator</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/session.html#bindSession"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.session.bindSession" title="Permalink to this definition">¶</a></dt>
<dd><p>Binds a session creator wrapping for the provided proxy.</p>
<dl class="docutils">
<dt>&#64;param proxy: &#64;see: registerProxyBinder</dt>
<dd>The proxy to bind the session creator to.</dd>
<dt>&#64;param sessionCreator: class</dt>
<dd>The session creator class that will create the session.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.session.commit">
<tt class="descclassname">ally.support.sqlalchemy.session.</tt><tt class="descname">commit</tt><big>(</big><em>session</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/session.html#commit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.session.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commit the session.</p>
<dl class="docutils">
<dt>&#64;param session: Session</dt>
<dd>The session to be committed.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.session.commitNow">
<tt class="descclassname">ally.support.sqlalchemy.session.</tt><tt class="descname">commitNow</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/session.html#commitNow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.session.commitNow" title="Permalink to this definition">¶</a></dt>
<dd><p>Commits the current session right now.</p>
<dl class="docutils">
<dt>&#64;return: boolean</dt>
<dd>True if a session was commited, False otherwise.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.session.endCurrent">
<tt class="descclassname">ally.support.sqlalchemy.session.</tt><tt class="descname">endCurrent</tt><big>(</big><em>sessionCloser=None</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/session.html#endCurrent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.session.endCurrent" title="Permalink to this definition">¶</a></dt>
<dd><p>Ends the transaction for the current thread session creator.</p>
<dl class="docutils">
<dt>&#64;param sessionCloser: Callable|None</dt>
<dd>A Callable that will be invoked for the ended transaction. It will take as a parameter the session to be closed.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.session.endSessions">
<tt class="descclassname">ally.support.sqlalchemy.session.</tt><tt class="descname">endSessions</tt><big>(</big><em>sessionCloser=None</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/session.html#endSessions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.session.endSessions" title="Permalink to this definition">¶</a></dt>
<dd><p>Ends all the transaction for the current thread session.</p>
<dl class="docutils">
<dt>&#64;param sessionCloser: Callable|None</dt>
<dd>A Callable that will be invoked for the ended transactions. It will take as a parameter the session to be closed.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.session.hasSession">
<tt class="descclassname">ally.support.sqlalchemy.session.</tt><tt class="descname">hasSession</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/session.html#hasSession"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.session.hasSession" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to check if there is a session on the current thread.</p>
</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.session.openSession">
<tt class="descclassname">ally.support.sqlalchemy.session.</tt><tt class="descname">openSession</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/session.html#openSession"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.session.openSession" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to provide the session on the current thread, this will automatically create a session based on the current 
thread session creator if one is not already created.</p>
</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.session.rollback">
<tt class="descclassname">ally.support.sqlalchemy.session.</tt><tt class="descname">rollback</tt><big>(</big><em>session</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/session.html#rollback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.session.rollback" title="Permalink to this definition">¶</a></dt>
<dd><p>Roll back the session.</p>
<dl class="docutils">
<dt>&#64;param session: Session</dt>
<dd>The session to be rolled back.</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ally.support.sqlalchemy.util_service">
<span id="util-service-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">util_service</span></tt> Module<a class="headerlink" href="#module-ally.support.sqlalchemy.util_service" title="Permalink to this headline">¶</a></h2>
<p>Created on Jan 5, 2012</p>
<p>&#64;package: ally core sql alchemy
&#64;copyright: 2012 Sourcefabric o.p.s.
&#64;license: <a class="reference external" href="http://www.gnu.org/licenses/gpl-3.0.txt">http://www.gnu.org/licenses/gpl-3.0.txt</a>
&#64;author: Gabriel Nistor</p>
<p>Provides utility methods for SQL alchemy service implementations.</p>
<dl class="function">
<dt id="ally.support.sqlalchemy.util_service.buildLimits">
<tt class="descclassname">ally.support.sqlalchemy.util_service.</tt><tt class="descname">buildLimits</tt><big>(</big><em>sqlQuery</em>, <em>offset=None</em>, <em>limit=None</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/util_service.html#buildLimits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.util_service.buildLimits" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds limiting on the SQL alchemy query.</p>
<dl class="docutils">
<dt>&#64;param offset: integer|None</dt>
<dd>The offset to fetch elements from.</dd>
<dt>&#64;param limit: integer|None</dt>
<dd>The limit of elements to get.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.util_service.buildQuery">
<tt class="descclassname">ally.support.sqlalchemy.util_service.</tt><tt class="descname">buildQuery</tt><big>(</big><em>sqlQuery</em>, <em>query</em>, <em>mapped</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/util_service.html#buildQuery"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.util_service.buildQuery" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds the query on the SQL alchemy query.</p>
<dl class="docutils">
<dt>&#64;param sqlQuery: SQL alchemy</dt>
<dd>The sql alchemy query to use.</dd>
<dt>&#64;param query: query</dt>
<dd>The REST query object to provide filtering on.</dd>
<dt>&#64;param mapped: class</dt>
<dd>The mapped model class to use the query on.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ally.support.sqlalchemy.util_service.handle">
<tt class="descclassname">ally.support.sqlalchemy.util_service.</tt><tt class="descname">handle</tt><big>(</big><em>e</em>, <em>entity</em><big>)</big><a class="reference internal" href="_modules/ally/support/sqlalchemy/util_service.html#handle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ally.support.sqlalchemy.util_service.handle" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles the SQL alchemy exception while inserting or updating.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">sqlalchemy Package</a><ul>
<li><a class="reference internal" href="#id1"><tt class="docutils literal"><span class="pre">sqlalchemy</span></tt> Package</a></li>
<li><a class="reference internal" href="#module-ally.support.sqlalchemy.descriptor"><tt class="docutils literal"><span class="pre">descriptor</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ally.support.sqlalchemy.mapper"><tt class="docutils literal"><span class="pre">mapper</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ally.support.sqlalchemy.session"><tt class="docutils literal"><span class="pre">session</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ally.support.sqlalchemy.util_service"><tt class="docutils literal"><span class="pre">util_service</span></tt> Module</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="ally.support.core.html"
                        title="previous chapter">core Package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ally.xml.html"
                        title="next chapter">xml Package</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/ally.support.sqlalchemy.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ally.xml.html" title="xml Package"
             >next</a> |</li>
        <li class="right" >
          <a href="ally.support.core.html" title="core Package"
             >previous</a> |</li>
        <li><a href="index.html">ally-py 1.0b1 documentation</a> &raquo;</li>
          <li><a href="ally.html" >ally Package</a> &raquo;</li>
          <li><a href="ally.support.html" >support Package</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Gabriel Nistor.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>